@model JabberBCIT.Models.NotificationViewModel

@Styles.Render("~/Content/Notifications.css")
@Scripts.Render("~/Scripts/Notifications.js")

@* really stupid, but small inline for displaying the amount of notifications *@

<script type="text/javascript">
    $(document).ready(function () {
        @if (Model.newNotifications > 0)
        {
            <text> // whack, because you need a text tag to use jquery
                $('#noti_Counter')
                .text(@Model.newNotifications.ToString())
                .css({ opacity: 0 })
                .css({ top: '-10px' })
                .animate({ top: '-2px', opacity: 1 }, 500)
                
                $('$noti_Button')
                .css({ 'backgorund-color': '#FFF' })
                .css({ 'display': 'block' })
        
            </text>
        }
        else
        {
            <text>
                $('#noti_Counter').fadeOut('fast');

                $('#noti_Button').css('background-color', '#2E467C');
            </text>
        }
        });
</script>

<ul class="nav navbar-nav navbar-right">
    <li id="noti_Container" class="">
        <div id="noti_Counter"> 
                    
        </div>   <!--count of unseen notifications-->
        <!--A CIRCLE LIKE BUTTON TO DISPLAY NOTIFICATION DROPDOWN.-->
        <div id="noti_Button"></div>
        <!--THE NOTIFICAIONS DROPDOWN BOX.-->
        <div id="notifications">
            <h3 id="title">Notifications</h3>
            <div>
                @foreach(var notification in Model.notifications)
                {
                    <div class="notification_text">
                        <a href="/Forum/@notification.ObjectID/">@notification.Text</a>
                    </div>
                    <br />
                }
            </div>
        </div>
    </li>
</ul>